<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Download</title>
  <style>
    :root{
      --bg1:#050514;
      --bg2:#0b0b2d;
      --card: rgba(255,255,255,0.92);
      --card2: rgba(255,255,255,0.86);
      --ink:#101027;
      --muted:#54547a;
      --shadow: 0 18px 45px rgba(0,0,0,.35);
      --shadow2: 0 28px 70px rgba(0,0,0,.45);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:#fff;
      overflow:hidden;
      background:
        radial-gradient(1200px 700px at 50% 85%, rgba(80,110,255,.16), transparent 60%),
        radial-gradient(900px 500px at 30% 20%, rgba(140,70,255,.10), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    /* Starfield canvas */
    #stars{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:0;
      pointer-events:none;
    }

    .topbar{
      position:relative;
      z-index:2;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:18px 22px;
      gap:16px;
    }
    .left-actions, .right-actions{
      display:flex;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
    }

    .pill, .link-pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      background:#fff;
      color:var(--ink);
      padding:12px 16px;
      border-radius:999px;
      box-shadow: var(--shadow);
      font-weight:900;
      letter-spacing:.2px;
      user-select:none;
      white-space:nowrap;
      border:0;
      cursor:pointer;
      text-decoration:none;
    }
    .link-pill{ padding:10px 16px; }
    .pill:hover, .link-pill:hover{ transform: translateY(-1px); }
    .pill:active, .link-pill:active{ transform: translateY(0px); }

    .wrap{
      position:relative;
      z-index:2;
      height:calc(100vh - 80px);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .cta{
      text-decoration:none;
      background:#fff;
      color:var(--ink);
      font-weight:1000;
      font-size:46px;
      padding:26px 90px;
      border-radius:999px;
      box-shadow: var(--shadow2);
      transition: transform .12s ease, box-shadow .12s ease;
      text-align:center;
      line-height:1;
      border:0;
      cursor:pointer;
    }
    .cta:hover{ transform:translateY(-2px); }
    .cta:active{ transform:translateY(1px); }

    .footer{
      position:fixed;
      left:18px;
      bottom:16px;
      z-index:2;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }

    /* Modal */
    .backdrop{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      z-index:10;
      display:none;
      padding:20px;
      align-items:flex-start;
      justify-content:center;
      overflow:auto;
    }
    .backdrop.open{ display:flex; }

    .modal{
      width:min(540px, 100%);
      margin-top:60px;
      background: var(--card);
      color: var(--ink);
      border-radius: 18px;
      box-shadow: var(--shadow2);
      padding: 16px;
      position:relative;
    }
    .modal-header{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      padding: 6px 6px 10px 6px;
      border-bottom: 1px solid rgba(16,16,39,.10);
    }
    .modal-title{
      margin:0;
      font-size:16px;
      font-weight:1000;
      letter-spacing:.2px;
    }
    .modal-sub{
      margin:6px 0 0;
      color: var(--muted);
      font-size:13px;
      font-weight:800;
    }
    .icon-btn{
      border:0;
      background:transparent;
      cursor:pointer;
      font-size:18px;
      font-weight:900;
      color:rgba(16,16,39,.65);
      padding:6px 10px;
      border-radius:10px;
    }
    .icon-btn:hover{ background: rgba(16,16,39,.06); }

    .modal-body{ padding: 12px 6px 6px 6px; }

    /* Info grid */
    .info-grid{
      display:flex;
      flex-direction:column;
      gap:10px;
      padding: 6px 0 0;
    }
    .info-row{
      display:flex;
      gap:10px;
      align-items:center;
      padding:10px 10px;
      border-radius:14px;
      background: var(--card2);
      border: 1px solid rgba(16,16,39,.06);
    }
    .k{
      min-width: 140px;
      color: var(--muted);
      font-weight:1000;
      font-size:13px;
    }
    .v{
      font-weight:1000;
      font-size:13px;
      overflow-wrap:anywhere;
    }
    .v a{ color:#1a1a60; font-weight:1000; }

    /* Form */
    .form{ display:flex; flex-direction:column; gap:10px; }
    label{
      font-size:13px;
      font-weight:1000;
      color: var(--muted);
    }
    input, textarea{
      width:100%;
      border-radius:14px;
      border:1px solid rgba(16,16,39,.15);
      padding:12px 12px;
      font-size:14px;
      outline:none;
      background:#fff;
      color: var(--ink);
      font-family: inherit;
    }
    textarea{ min-height:120px; resize:vertical; }

    .row-actions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      padding-top:6px;
    }
    .btn{
      border:0;
      border-radius:999px;
      padding:10px 16px;
      font-weight:1000;
      cursor:pointer;
      box-shadow: var(--shadow);
      background:#fff;
      color: var(--ink);
    }
    .btn.primary{
      background: #111129;
      color:#fff;
      box-shadow: var(--shadow2);
    }

    /* Rating */
    .rating-wrap{
      display:flex;
      flex-direction:column;
      gap:10px;
      padding-top:6px;
    }
    .stars-row{
      display:flex;
      gap:8px;
      align-items:center;
      padding:12px 12px;
      border-radius:14px;
      background: var(--card2);
      border: 1px solid rgba(16,16,39,.06);
      width: fit-content;
    }
    .star-btn{
      border:0;
      background:transparent;
      cursor:pointer;
      padding:0;
      line-height:1;
      font-size:28px;
      color: rgba(16,16,39,.25);
      transition: transform .08s ease;
    }
    .star-btn:hover{ transform: translateY(-1px); }
    .star-btn.filled{ color: rgba(16,16,39,.90); }
    .rating-text{
      font-size:13px;
      font-weight:1000;
      color: var(--muted);
      margin:0;
    }

    @media (max-width: 520px){
      .cta{ font-size:34px; padding:22px 44px; }
      .k{ min-width: 120px; }
      .topbar{ padding:14px 14px; }
    }
  </style>
</head>

<body>
  <canvas id="stars" aria-hidden="true"></canvas>

  <header class="topbar">
    <div class="left-actions">
      <button class="pill" type="button" id="rateBtn">Rate</button>
      <button class="pill" type="button" id="infoBtn">Information about file</button>
    </div>

    <div class="right-actions">
      <a class="link-pill" href="https://github.com/login" target="_blank" rel="noopener">Login</a>
      <a class="link-pill" href="https://github.com/signup" target="_blank" rel="noopener">Signup</a>
    </div>
  </header>

  <main class="wrap">
    <a class="cta" id="downloadBtn" href="#" target="_blank" rel="noopener">Download</a>
  </main>

  <div class="footer">
    <button class="link-pill" type="button" id="reportBtn">Report abuse</button>
  </div>

  <!-- INFO MODAL -->
  <div class="backdrop" id="infoBackdrop" role="dialog" aria-modal="true" aria-labelledby="infoTitle">
    <div class="modal">
      <div class="modal-header">
        <div>
          <h2 class="modal-title" id="infoTitle">File information</h2>
          <p class="modal-sub" id="infoSub">Details</p>
        </div>
        <button class="icon-btn" type="button" data-close="info" aria-label="Close">✕</button>
      </div>

      <div class="modal-body">
        <div class="info-grid">
          <div class="info-row"><div class="k">Downloads</div><div class="v" id="metaDownloads">—</div></div>
          <div class="info-row"><div class="k">Version</div><div class="v" id="metaVersion">—</div></div>
          <div class="info-row"><div class="k">File type</div><div class="v" id="metaType">—</div></div>
          <div class="info-row"><div class="k">File size</div><div class="v" id="metaSize">—</div></div>
          <div class="info-row"><div class="k">Release page</div><div class="v"><a id="metaReleaseLink" href="#" target="_blank" rel="noopener">Open on GitHub</a></div></div>
        </div>
      </div>
    </div>
  </div>

  <!-- RATE MODAL -->
  <div class="backdrop" id="rateBackdrop" role="dialog" aria-modal="true" aria-labelledby="rateTitle">
    <div class="modal">
      <div class="modal-header">
        <div>
          <h2 class="modal-title" id="rateTitle">Rate this page</h2>
          <p class="modal-sub">Select stars</p>
        </div>
        <button class="icon-btn" type="button" data-close="rate" aria-label="Close">✕</button>
      </div>

      <div class="modal-body">
        <div class="rating-wrap">
          <div class="stars-row" id="starsRow" aria-label="Rating">
            <button class="star-btn" type="button" data-star="1" aria-label="1 star">★</button>
            <button class="star-btn" type="button" data-star="2" aria-label="2 stars">★</button>
            <button class="star-btn" type="button" data-star="3" aria-label="3 stars">★</button>
            <button class="star-btn" type="button" data-star="4" aria-label="4 stars">★</button>
            <button class="star-btn" type="button" data-star="5" aria-label="5 stars">★</button>
          </div>
          <p class="rating-text" id="ratingText">Your rating: —</p>
        </div>

        <div class="row-actions" style="padding-top:12px;">
          <button class="btn" type="button" data-close="rate">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- REPORT MODAL -->
  <div class="backdrop" id="reportBackdrop" role="dialog" aria-modal="true" aria-labelledby="reportTitle">
    <div class="modal">
      <div class="modal-header">
        <div>
          <h2 class="modal-title" id="reportTitle">Report / Feedback</h2>
          <p class="modal-sub">Tell us what happened</p>
        </div>
        <button class="icon-btn" type="button" data-close="report" aria-label="Close">✕</button>
      </div>

      <div class="modal-body">
        <form class="form" id="reportForm">
          <div>
            <label for="repEmail">Email (optional)</label>
            <input id="repEmail" name="email" type="email" placeholder="name@example.com" autocomplete="email" />
          </div>

          <div>
            <label for="repType">Category</label>
            <input id="repType" name="type" type="text" placeholder="Bug / Abuse / Question / Other" />
          </div>

          <div>
            <label for="repMsg">Message</label>
            <textarea id="repMsg" name="message" placeholder="Describe the issue..." required></textarea>
          </div>

          <div class="row-actions">
            <button class="btn" type="button" data-close="report">Cancel</button>
            <button class="btn primary" type="submit">Send</button>
          </div>
        </form>

        <div id="reportThanks" style="display:none; padding:10px 6px 0;">
          <p style="margin:0; font-weight:1000;">Thanks! Your message has been sent.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    /********************
     * CONFIG (EDIT THIS)
     ********************/
    const CONFIG = {
      downloadUrl: "https://github.com/USER/REPO/releases/download/v1.0.0/YourFile.zip",
      releaseUrl:  "https://github.com/USER/REPO/releases/tag/v1.0.0",
      meta: {
        downloads: "—",
        version: "v1.0.0",
        type: ".ZIP archive",
        size: "~105 MB"
      }
    };

    /********************
     * UI
     ********************/
    const downloadBtn = document.getElementById("downloadBtn");
    downloadBtn.href = CONFIG.downloadUrl;

    document.getElementById("metaDownloads").textContent = CONFIG.meta.downloads;
    document.getElementById("metaVersion").textContent = CONFIG.meta.version;
    document.getElementById("metaType").textContent = CONFIG.meta.type;
    document.getElementById("metaSize").textContent = CONFIG.meta.size;
    document.getElementById("metaReleaseLink").href = CONFIG.releaseUrl;

    const infoBackdrop = document.getElementById("infoBackdrop");
    const reportBackdrop = document.getElementById("reportBackdrop");
    const rateBackdrop = document.getElementById("rateBackdrop");

    function openModal(which){
      const el = which === "info" ? infoBackdrop : which === "report" ? reportBackdrop : rateBackdrop;
      el.classList.add("open");
      const focusable = el.querySelector("button, a, input, textarea");
      if (focusable) focusable.focus();
    }
    function closeModal(which){
      const el = which === "info" ? infoBackdrop : which === "report" ? reportBackdrop : rateBackdrop;
      el.classList.remove("open");
    }

    document.getElementById("infoBtn").addEventListener("click", ()=>openModal("info"));
    document.getElementById("reportBtn").addEventListener("click", ()=>openModal("report"));
    document.getElementById("rateBtn").addEventListener("click", ()=>openModal("rate"));

    document.addEventListener("click", (e)=>{
      const btn = e.target.closest("[data-close]");
      if (btn) closeModal(btn.getAttribute("data-close"));

      if (e.target === infoBackdrop) closeModal("info");
      if (e.target === reportBackdrop) closeModal("report");
      if (e.target === rateBackdrop) closeModal("rate");
    });

    document.addEventListener("keydown", (e)=>{
      if (e.key !== "Escape") return;
      if (infoBackdrop.classList.contains("open")) closeModal("info");
      if (reportBackdrop.classList.contains("open")) closeModal("report");
      if (rateBackdrop.classList.contains("open")) closeModal("rate");
    });

    // Report form
    const reportForm = document.getElementById("reportForm");
    const reportThanks = document.getElementById("reportThanks");
    reportForm.addEventListener("submit", (e)=>{
      e.preventDefault();

      const payload = {
        email: reportForm.email.value.trim(),
        type: reportForm.type.value.trim(),
        message: reportForm.message.value.trim(),
        page: location.href,
        ts: new Date().toISOString()
      };

      // Keep it silent for now (you can wire this to your backend later)
      console.log("REPORT_PAYLOAD:", payload);

      reportForm.style.display = "none";
      reportThanks.style.display = "block";
    });

    // Rating: interactive stars (no persistence)
    let selectedRating = 0;
    const starsRow = document.getElementById("starsRow");
    const ratingText = document.getElementById("ratingText");
    const starButtons = Array.from(starsRow.querySelectorAll(".star-btn"));

    function renderStars(hoverValue = 0){
      const value = hoverValue || selectedRating;
      starButtons.forEach(btn=>{
        const n = Number(btn.dataset.star);
        btn.classList.toggle("filled", n <= value);
      });
      ratingText.textContent = `Your rating: ${selectedRating ? (selectedRating + "/5") : "—"}`;
    }

    starButtons.forEach(btn=>{
      btn.addEventListener("mouseenter", ()=>{
        renderStars(Number(btn.dataset.star));
      });
      btn.addEventListener("click", ()=>{
        selectedRating = Number(btn.dataset.star);
        renderStars();
      });
    });
    starsRow.addEventListener("mouseleave", ()=>renderStars());
    renderStars();

    /********************
     * Realistic Starfield (3D warp + gentle swirl)
     ********************/
    const canvas = document.getElementById("stars");
    const ctx = canvas.getContext("2d", { alpha: true });

    let W = 0, H = 0, CX = 0, CY = 0, DPR = 1;

    function resize(){
      DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      W = window.innerWidth;
      H = window.innerHeight;
      CX = W * 0.5;
      CY = H * 0.5;
      canvas.width = Math.floor(W * DPR);
      canvas.height = Math.floor(H * DPR);
      canvas.style.width = W + "px";
      canvas.style.height = H + "px";
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }
    window.addEventListener("resize", resize);
    resize();

    // Mouse influences direction slightly (optional, feels "alive")
    let mouseX = 0, mouseY = 0;
    window.addEventListener("mousemove", (e)=>{
      mouseX = (e.clientX - CX) / CX; // -1..1
      mouseY = (e.clientY - CY) / CY;
    }, { passive:true });

    // Starfield parameters
    const STAR_COUNT = Math.floor(Math.max(350, Math.min(900, (W * H) / 2500)));
    const DEPTH = 1200;       // z range
    const SPEED = 1.8;        // base speed (z movement)
    const FOV = 420;          // perspective
    const SWIRL = 0.00055;    // angular velocity
    const DRIFT = 0.0009;     // slight lateral drift

    function rand(min, max){ return min + Math.random() * (max - min); }

    // 3D stars with trail
    const stars = [];
    function spawnStar(z = rand(0, DEPTH)){
      // spawn in a disk around center for nicer distribution
      const angle = Math.random() * Math.PI * 2;
      const radius = Math.sqrt(Math.random()) * Math.max(W, H) * 0.55;
      const x = Math.cos(angle) * radius;
      const y = Math.sin(angle) * radius;

      return {
        x, y, z,
        px: x, py: y, pz: z,
        size: rand(0.6, 2.0),
        bright: rand(0.25, 0.95),
        hueShift: rand(-0.08, 0.08) // tiny warmth/coolness
      };
    }

    for (let i = 0; i < STAR_COUNT; i++) stars.push(spawnStar(rand(0, DEPTH)));

    function project(st){
      const scale = FOV / (FOV + st.z);
      return {
        sx: CX + st.x * scale,
        sy: CY + st.y * scale,
        r: st.size * (0.55 + 1.25 * scale),
        a: st.bright * Math.min(1, 0.25 + scale * 1.2)
      };
    }

    let last = performance.now();
    function loop(now){
      const dt = Math.min(34, now - last);
      last = now;

      // Fade with slight alpha for motion feel
      ctx.clearRect(0, 0, W, H);

      // Global gentle "flow" direction (mouse adds slight offset)
      const dirX = mouseX * 0.35;
      const dirY = mouseY * 0.35;

      // Swirl center
      const ang = SWIRL * dt;

      ctx.save();
      ctx.globalCompositeOperation = "lighter";

      for (const st of stars){
        // store previous for trail
        st.px = st.x; st.py = st.y; st.pz = st.z;

        // Move forward (towards viewer): z decreases
        st.z -= SPEED * dt * (0.7 + st.bright * 0.9);

        // Swirl around center (rotation in XY plane)
        const x = st.x, y = st.y;
        st.x = x * Math.cos(ang) - y * Math.sin(ang);
        st.y = x * Math.sin(ang) + y * Math.cos(ang);

        // Slight drift & direction bias
        st.x += (dirX * 8) * DRIFT * dt * (1.0 + st.bright);
        st.y += (dirY * 8) * DRIFT * dt * (1.0 + st.bright);

        // Respawn if passed viewer or far outside
        const out = Math.abs(st.x) > Math.max(W, H) * 1.2 || Math.abs(st.y) > Math.max(W, H) * 1.2;
        if (st.z < -FOV * 0.5 || out){
          const ns = spawnStar(DEPTH);
          st.x = ns.x; st.y = ns.y; st.z = ns.z;
          st.px = st.x; st.py = st.y; st.pz = st.z;
          st.size = ns.size; st.bright = ns.bright; st.hueShift = ns.hueShift;
          continue;
        }

        const cur = project(st);
        const prev = (() => {
          // project previous position; use previous z for trail thickness
          const scale = FOV / (FOV + st.pz);
          return { sx: CX + st.px * scale, sy: CY + st.py * scale };
        })();

        // If on-screen
        if (cur.sx < -50 || cur.sx > W + 50 || cur.sy < -50 || cur.sy > H + 50) continue;

        // Color: mostly white with tiny tint
        const tint = st.hueShift;
        const r = 255;
        const g = Math.max(230, Math.floor(255 - 40 * Math.max(0, tint)));
        const b = Math.max(230, Math.floor(255 - 40 * Math.max(0, -tint)));

        // Trail (streak) length increases as star gets closer (bigger scale)
        const streak = Math.min(18, 4 + cur.r * 6);
        const dx = cur.sx - prev.sx;
        const dy = cur.sy - prev.sy;
        const len = Math.hypot(dx, dy) || 1;
        const tx = (dx / len) * streak;
        const ty = (dy / len) * streak;

        // Draw trail
        ctx.globalAlpha = cur.a * 0.65;
        ctx.strokeStyle = `rgb(${r},${g},${b})`;
        ctx.lineWidth = Math.max(1, cur.r * 0.65);
        ctx.beginPath();
        ctx.moveTo(cur.sx, cur.sy);
        ctx.lineTo(cur.sx - tx, cur.sy - ty);
        ctx.stroke();

        // Draw star head
        ctx.globalAlpha = Math.min(1, cur.a + 0.12);
        ctx.fillStyle = `rgb(${r},${g},${b})`;
        ctx.beginPath();
        ctx.arc(cur.sx, cur.sy, Math.max(0.6, cur.r), 0, Math.PI * 2);
        ctx.fill();
      }

      ctx.restore();

      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  </script>
</body>
</html>
